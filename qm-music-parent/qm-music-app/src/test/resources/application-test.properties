# 使用内存 SQLite，避免依赖本地 dev-db/ 目录
spring.datasource.url=jdbc:sqlite::memory:?cache=shared&mode=rwc&journal_mode=WAL&synchronous=NORMAL

# Flyway 使用与 datasource 相同的内存数据库
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.url=${spring.datasource.url}
spring.flyway.validate-on-migrate=false

# CI/Test 环境：关闭自动扫描和清理任务，避免访问不存在的目录
qm.refresh.auto=false
qm.clean.play.history.auto=false

# 指定一个无需实际文件的临时目录
qm.music.dir=/tmp/qm-music-test
qm.cache.dir=/tmp/qm-music-test-cache

# 关闭 FFmpeg 和第三方服务
qm.ffmpeg.enable=false
